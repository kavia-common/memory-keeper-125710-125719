{"is_source_file": true, "format": "Dart", "description": "This file defines the AppDatabase class for managing SQLite database connection, schema creation, and migrations for a Flutter app. It includes methods for lazy initialization, closing the database, and creating initial schema with tables for notes and wallet entries.", "external_files": ["dart:async", "package:path/path.dart", "package:sqflite/sqflite.dart", "../../models/note.dart", "../../models/wallet_entry.dart"], "external_methods": ["getDatabasesPath", "openDatabase"], "published": ["AppDatabase"], "classes": [{"name": "AppDatabase", "description": "Singleton class managing SQLite database connection, creation, and schema migrations for the app."}], "methods": [{"name": "database", "description": "Returns an initialized [Database] instance, creating/opening it lazily and safely in concurrent environments."}, {"name": "close", "description": "Closes the database connection, allowing it to be reopened later."}, {"name": "_onCreate", "description": "Initializes database schema upon creation, creating notes and wallet entries tables with indexes."}, {"name": "_onUpgrade", "description": "Handles database schema migrations for future versions; currently empty."}], "calls": ["getDatabasesPath", "openDatabase", "Database.execute", "db.execute"], "search-terms": ["AppDatabase", "SQLite connection", "schema creation", "migrations", "notes table", "wallet entries table"], "state": 2, "file_id": 23, "knowledge_revision": 49, "git_revision": "", "hash": "5c5a87a7f4971c4bc3565c29479556af", "format-version": 4, "code-base-name": "flutter_frontend", "filename": "flutter_frontend/lib/data/db/app_database.dart", "revision_history": [{"49": ""}]}