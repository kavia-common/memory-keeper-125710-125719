{"is_source_file": true, "format": "Dart", "description": "This file defines the NotesRepository class which provides CRUD operations and query functionalities for managing notes stored in a SQLite database. It interacts with the app's database layer, performs insert, update, delete, and query operations, and handles data transformation to and from the Note model.", "external_files": ["package:sqflite/sqflite.dart", "../../models/note.dart", "../db/app_database.dart"], "external_methods": ["AppDatabase.instance.database", "Note.copyWith", "Note.toDbMap", "Note.fromDbMap", "NoteFields.*"], "published": ["NotesRepository"], "classes": [{"name": "NotesRepository", "description": "Provides CRUD and query operations for notes stored in the database, including create, retrieve by ID, list with filters, update, delete, toggle favorite status, and count notes."}], "methods": [{"name": "create", "description": "Inserts a new note into the database and returns the generated ID."}, {"name": "getById", "description": "Fetches a note by its ID; returns null if not found."}, {"name": "list", "description": "Returns a list of notes, filtered by optional query, favorite status, with pagination, and sorted by updated time."}, {"name": "update", "description": "Updates an existing note; returns number of affected rows."}, {"name": "delete", "description": "Deletes a note by ID; returns number of rows deleted."}, {"name": "toggleFavorite", "description": "Sets the favorite flag for a note."}, {"name": "count", "description": "Returns total count of notes, optionally filtered by favorites."}], "calls": ["AppDatabase.instance.database", "db.insert", "Note.copyWith", "Note.toDbMap", "db.query", "Note.fromDbMap", "db.update", "db.delete", "db.rawQuery"], "search-terms": ["NotesRepository", "CRUD notes", "SQLite notes management", "Flutter database notes", "notes filtering and pagination"], "state": 2, "file_id": 24, "knowledge_revision": 51, "git_revision": "", "hash": "5e40e38599e6bc0c2a92c9459930398a", "format-version": 4, "code-base-name": "flutter_frontend", "filename": "flutter_frontend/lib/data/repositories/notes_repository.dart", "revision_history": [{"51": ""}]}